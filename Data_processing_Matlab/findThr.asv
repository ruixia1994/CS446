function thr = findThr(in,limit)
h = imhist(in);
n = length(h);
t = 0;
while(is2peak(h)~=1)
    h1 = h;
    h1(1) = (h(1)+h(1)+h(2))/3;
    for i=2:n-1
        h1(i) = (h(i)+h(i-1)+h(i+1))/3;
    end
    h1(n) = (h(n-1)+h(n)+h(n))/3;
    h = h1;
    t = t+1;
    if t==limit
        thr = -1
end
end